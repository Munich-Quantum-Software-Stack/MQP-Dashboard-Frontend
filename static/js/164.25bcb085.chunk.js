"use strict";(self.webpackChunkbqp_frontend=self.webpackChunkbqp_frontend||[]).push([[164],{6164:function(e,n,t){t.r(n),t.d(n,{default:function(){return j},loader:function(){return f}});var s=t(4165),o=t(5861),a=t(2791),r=t(7689),i=t(1989),c=t(682),l=t(7002),d=t(9439),m=t(1087),k=t(184);var u=function(e){var n=(0,a.useState)(!1),t=(0,d.Z)(n,2),s=(t[0],t[1],(0,m.qd)()),o=e.id.toLowerCase().replace(/\s+/g,"");return(0,k.jsx)("li",{className:"token_item_row",children:(0,k.jsxs)(m.rU,{to:"/tokens/".concat(o),children:[(0,k.jsx)("div",{className:"token_column token_view",children:(0,k.jsx)("span",{className:"view_icon"})}),(0,k.jsx)("div",{className:"token_column token_name",children:e.tokenName}),(0,k.jsx)("div",{className:"token_column token_expired",children:e.expiration}),(0,k.jsx)("div",{className:"token_column token_note",children:e.note}),(0,k.jsx)("div",{className:"token_column token_actions",children:(0,k.jsxs)("button",{className:"token_btn ",onClick:function(){window.confirm("Are you sure to revoke this token?")&&s(null,{method:"delete"})},children:[(0,k.jsx)("span",{className:"button_icon delete_icon"}),"Revoke"]})})]})})};var _=function(e){var n=e.id.toLowerCase().replace(/\s+/g,"");return(0,k.jsx)("li",{children:(0,k.jsxs)(m.rU,{to:n,children:[(0,k.jsx)("div",{className:"token_column token_view",children:(0,k.jsx)("span",{className:"view_icon"})}),(0,k.jsx)("div",{className:"token_column token_name",children:e.tokenName}),(0,k.jsx)("div",{className:"token_column token_revoked_time",children:e.revoked_timestamp}),(0,k.jsx)("div",{className:"token_column token_revoked_reason",children:e.revoked_reason})]})})};var h=function(e){if(null===e.items)return(0,k.jsx)("h4",{className:"text-center my-3",children:"No Token issued"});var n=e.items.filter((function(e){return"Active"===e.status})),t=e.items.filter((function(e){return"Revoked"===e.status}));return(0,k.jsxs)(a.Fragment,{children:[n.length>0&&(0,k.jsxs)("div",{className:"mb-5 activatedTokensList",children:[(0,k.jsx)("h5",{children:"Actived Tokens"}),(0,k.jsx)("div",{className:"responsive_container",children:(0,k.jsxs)("ul",{className:"subTokensList",children:[(0,k.jsxs)("li",{className:"token_row_header",children:[(0,k.jsx)("div",{className:"token_column token_view"}),(0,k.jsx)("div",{className:"token_column token_name",children:"Token Name"}),(0,k.jsx)("div",{className:"token_column token_expired",children:"Expiration"}),(0,k.jsx)("div",{className:"token_column token_note",children:"Note"}),(0,k.jsx)("div",{className:"token_column token_actions"})]}),n.map((function(e){return(0,k.jsx)(u,{id:e.id,tokenName:e.token_name,expiration:e.expiration,note:e.note},e.id)}))]})})]}),t.length>0&&(0,k.jsxs)("div",{className:"mb-5 revokedTokensList",children:[(0,k.jsx)("h5",{children:"Revoked Tokens"}),(0,k.jsx)("div",{className:"responsive_container",children:(0,k.jsxs)("ul",{className:"subTokensList",children:[(0,k.jsxs)("li",{className:"token_row_header",children:[(0,k.jsx)("div",{className:"token_column token_view"}),(0,k.jsx)("div",{className:"token_column token_name",children:"Token Name"}),(0,k.jsx)("div",{className:"token_column token_expired",children:"Revoked Time"}),(0,k.jsx)("div",{className:"token_column token_note",children:"Revoked Reason"}),(0,k.jsx)("div",{className:"token_column token_actions"})]}),t.map((function(e){return(0,k.jsx)(_,{id:e.id,tokenName:e.token_name,revokedTime:e.revoked_timestamp,revoked_reason:e.revoked_reason},e.id)}))]})})]})]})},x=t(5204),v=t(9002);var j=function(){var e=(0,r.f_)().tokens.map((function(e){return{id:e.token_name,token_name:e.token_name,expiration:e.expiration,status:e.status,note:e.note}})),n=(0,a.useContext)(l.Z);return(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)("div",{className:"main_content",children:[(0,k.jsx)(x.Z,{}),(0,k.jsx)(c.Z,{className:"".concat(n.darkmode?"dark_bg":"white_bg"," tokens_container"),children:(0,k.jsxs)("div",{className:"listTokens_container",children:[(0,k.jsx)("div",{className:"tokenContainer_header_wrap",children:(0,k.jsx)("h4",{className:"mb-5 page_header",children:"All Tokens"})}),(0,k.jsx)("div",{className:"tokensList_container",children:(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),children:(0,k.jsx)(r.KP,{resolve:e,children:function(e){return(0,k.jsx)(h,{items:e})}})})})]})})]})})};function p(){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,s.Z)().mark((function e(){var n,t,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://127.0.0.1:5000/tokens",n=(0,v.bW)(),e.next=4,fetch("http://127.0.0.1:5000/tokens",{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:if(!(t=e.sent).ok){e.next=12;break}return e.next=8,t.json();case 8:return o=e.sent,e.abrupt("return",o.tokens);case 12:throw(0,i.AV)({message:"Failed to fetch tokens!"},{status:500});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.PQ,e.next=3,p();case 3:return e.t1=e.sent,e.t2={tokens:e.t1},e.abrupt("return",(0,e.t0)(e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=164.25bcb085.chunk.js.map